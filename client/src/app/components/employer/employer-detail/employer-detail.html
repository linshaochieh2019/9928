<div class="container my-4">

  <!-- ‚úÖ Edit Profile Button (only owner) -->
  @if (isOwner()) {
  <div class="d-flex justify-content-end mb-2">
    <button (click)="goEdit()" class="btn btn-outline-brand">
      Edit Profile üñäÔ∏è
    </button>
  </div>
  }

  <!-- Profile Header Row -->
  <div class="row g-4 mb-4">
    <!-- Left: Basic Info -->
    <div class="col-12 col-lg-7">
      <div class="card shadow-sm p-4 h-100">
        <div class="d-flex">
          <!-- Logo -->
          <!-- <img [src]="employer?.logoUrl || 'assets/default-employer.png'" alt="Employer Logo"
            class="rounded border me-4" style="width:160px; height:160px; object-fit:cover;"> -->

          <!-- Info -->
          <div class="flex-grow-1 p-2">
            <h1 class="h4 fw-bold mb-1 text-dark">{{ employer?.name || '‚Äî' }}</h1>
            <p class="fs-6 text-muted mb-2">{{ employer?.type || '' }}</p>

            <div class="d-flex flex-column gap-2 text-muted small">
              <div class="d-flex align-items-center">
                <i class="bi bi-geo-alt me-2 text-secondary"></i>
                <span><strong>Main Address:</strong> {{ employer?.location?.mainAddress || '‚Äî' }}</span>
              </div>
              <div *ngIf="employer?.website" class="d-flex align-items-center">
                <i class="bi bi-globe me-2 text-secondary"></i>
                <a [href]="employer?.website" target="_blank">{{ employer?.website }}</a>
              </div>
              <div *ngIf="employer?.location?.onlineOnly" class="d-flex align-items-center">
                <i class="bi bi-wifi me-2 text-secondary"></i>
                <span>Online Only</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right: Contact Info -->
    <div class="col-12 col-lg-5">
      <div class="card shadow-sm p-4 h-100">
        <h5 class="fw-bold mb-3">Contact Information</h5>

        <div class="d-flex flex-column gap-2 small">
          <div class="d-flex align-items-center">
            <i class="bi bi-person me-2 text-secondary"></i>
            <span><strong>Contact:</strong> {{ employer?.contact?.personName || '‚Äî' }}
              ({{ employer?.contact?.position || '‚Äî' }})
            </span>
          </div>
          <div class="d-flex align-items-center">
            <i class="bi bi-envelope me-2 text-secondary"></i>
            <span><strong>Email:</strong> {{ employer?.contact?.email || '‚Äî' }}</span>
          </div>
          <div class="d-flex align-items-center">
            <i class="bi bi-telephone me-2 text-secondary"></i>
            <span><strong>Phone:</strong> {{ employer?.contact?.phone || '‚Äî' }}</span>
          </div>
          <div *ngIf="employer?.contact?.verified" class="text-success small">
            <i class="bi bi-patch-check-fill me-1"></i> Verified Contact
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- About -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="fw-bold mb-3">About</h5>
      <p class="mb-4 text-secondary" style="line-height: 1.6;">
        {{ employer?.about?.description || 'No description provided.' }}
      </p>

      <div class="row text-center g-3">
        <div class="col-12 col-md-4">
          <div class="rounded p-3 h-100" style="background-color: var(--brand-light);">
            <i class="bi bi-calendar3 fs-3 text-primary mb-2"></i>
            <div class="fw-bold fs-5">{{ employer?.about?.yearEstablished || '‚Äî' }}</div>
            <small class="text-muted">Year Established</small>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <div class="rounded p-3 h-100" style="background-color: var(--brand-light);">
            <i class="bi bi-mortarboard fs-3 text-primary mb-2"></i>
            <div class="fw-bold fs-5">{{ employer?.about?.numberOfStudents || '‚Äî' }}</div>
            <small class="text-muted">Number of Students</small>
          </div>
        </div>
        <div class="col-12 col-md-4">
          <div class="rounded p-3 h-100" style="background-color: var(--brand-light);">
            <i class="bi bi-people fs-3 text-primary mb-2"></i>
            <div class="fw-bold fs-5">{{ employer?.about?.numberOfForeignTeachers || '‚Äî' }}</div>
            <small class="text-muted">Number of Foreign Teachers</small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Hiring Preferences -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="fw-bold mb-3">Hiring Preferences</h5>

      <div class="row text-center g-3">
        <!-- Subjects -->
        <div class="col-12 col-md-4">
          <div class="rounded p-3 h-100" style="background-color: var(--brand-light);">
            <i class="bi bi-book fs-3 text-primary mb-2"></i>
            <div class="fw-bold fs-6">Typical Subjects</div>
            <div class="text-dark">
              {{ employer?.hiringPreferences?.typicalSubjects?.join(', ') || '‚Äî' }}
            </div>
          </div>
        </div>

        <!-- Employment Types -->
        <div class="col-12 col-md-4">
          <div class="rounded p-3 h-100" style="background-color: var(--brand-light);">
            <i class="bi bi-briefcase fs-3 text-primary mb-2"></i>
            <div class="fw-bold fs-6">Employment Types</div>
            <div class="text-dark">
              {{ employer?.hiringPreferences?.employmentTypes?.join(', ') || '‚Äî' }}
            </div>
          </div>
        </div>

        <!-- Visa Sponsorship -->
        <div class="col-12 col-md-4">
          <div class="rounded p-3 h-100" style="background-color: var(--brand-light);">
            <i class="bi bi-passport fs-3 text-primary mb-2"></i>
            <div class="fw-bold fs-6">Visa Sponsorship</div>
            <div class="text-dark">
              {{ employer?.hiringPreferences?.visaSponsorship ? 'Yes' : 'No' }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Media -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="fw-bold mb-3">Gallery</h5>

      <div class="row g-3">
        <!-- Main Image -->
        <div class="col-9">
          <img [src]="selectedImage || employer?.coverImage || 'assets/default-image.png'" alt="Main Gallery Image"
            class="img-fluid rounded w-100" style="max-height: 800px; object-fit: cover;">
        </div>

        <!-- Thumbnails -->
        <div class="col-3 d-flex flex-column gap-2">
          <img *ngFor="let img of thumbnailImages" [src]="img" (click)="selectedImage = img"
            [class.border-primary]="selectedImage === img" class="rounded shadow-sm"
            style="width:100%; height:120px; object-fit:cover; cursor:pointer; border: 2px solid transparent;">
        </div>
      </div>
    </div>
  </div>



</div>